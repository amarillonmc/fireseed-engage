【种火集结号】游戏设计文档
文档版本：0.0.1
最终更新日：2025-03-02

游戏类型：oGame类资源管理+领地占据策略游戏
使用技术栈：PHP+MySQL+HTML+CSS+JavaScript
游戏整合：单独运转，或与常磐大逃杀的用户数据（参照/doc/repomix-dts.txt中的users表）互通，该选项需要在初始化时选择配置。

游戏玩法概述：
玩家扮演潜入数据之海的“钻探者”（Driller），在数据之海中修建城池，并通过在城池中建造设施产出资源，
使用资源产出兵力，招募武将，发展科技，提升城池防御，最终击败其他玩家，占据地图中心的【数据之孔】，成为数据之海的主宰。

游戏机制：
1. 基础地图配置：
地图为512*512的正方形网格地图（默认值，长宽数值可以配置），中心为【数据之孔】，地图上随机分布着资源点，NPC城池以及NPC主城三种建筑。

2. 资源点：
资源点中包含一个或数个产出一种或数种资源的设施。
资源有六种，会分别产出亮晶晶（白色），暖洋洋（红色），冷冰冰（蓝色），郁萌萌（绿色），昼闪闪（黄色）与夜静静（黑色）六种资源。
资源按照真实时间产出，默认值是每5秒产出一点，但应该可以进行配置。
此外，也存在一种名为【思考回路】的特殊资源，该资源需要通过升级玩家自身，或建造特殊设施，或兑换从常磐大逃杀中来的切糕（参照/doc/repomix-dts.txt中的users表之credits2字段）来产出，
将地图方块攻打下来后，将其占为己有以扩充领地范围，就需要消耗【思考回路】。
地图上有50%的方格都会是资源点，资源点中包含的单种资源产出设施最多不超过3个，包含的资源种类最多不超过4种。
资源点中按照资源的种类与数量，会出现不同种类和数量的守军。

3. NPC城池：
NPC城池中必定包含2个产出全部6种资源的设施。
NPC城池有着从1到9的等级，城池中对应等级驻扎着对应数量及等级的守军。
地图上有25%的方格会生成NPC城池，NPC城池的等级与其数量成反比。

4. NPC主城以及【数据之孔】：
地图上将会出现12个NPC主城，其本质上为等级10的NPC城池。以及位于地图中心的【数据之孔】（The Hole），其本质上为等级11的NPC城池。
12个主城会平均分布在地图上，以中心坐标，如钟表盘般向四周扩散。
12个主城的名称分别为：
1点方向：【明京】（Minjing）
2点方向：【宁海】（Ninghai）
3点方向：【五岳】（Wuyue）
4点方向：【陆合】（Luhai）
5点方向：【米萨瓦】（Misawa）
6点方向：【卡拉塔】（Kanata）
7点方向：【约左拉】（Yozora）
8点方向：【娜奥美】（Naomi）
9点方向：【明斯特尔】（Minster）
10点方向：【艾尔利斯】（Elise）
11点方向：【雷德奈芙】（Redknife）
12点方向：【开里培拉】（Caeperra）

5. 玩家城池：
玩家加入游戏后，便会在地图随机地点生成玩家的第一座城池，玩家城池中必定包含3个产出全部6种资源的设施。
玩家城池本身是24x24的正方形网格，上述产生资源的设施会分布在城池的四个角落。
玩家可以在城池的其他空间内建造各种设施，下文详述。
玩家在攻打下资源点后，可将其改造成为玩家城池【分基地】，届时返还消费的【思考回路】。玩家能拥有的分基地数量与玩家等级成正比。

6. 武将
玩家可以消费切糕或亮晶晶来招募武将。
武将有着不同的罕贵等级（B，A，S，SS，P），一般来说，罕贵等级越高，属性和技能越强大。
武将以卡片形式抽出来，卡面上有着以下信息：
ID：武将的唯一标识符
名称：武将的名称
来源：武将角色的来源
卡图：武将的立绘/卡图
稀有度：武将的罕贵等级
COST：从1.0到4.0的数值，以0.5为单位，高COST的武将属性更强大
元素：武将也存在上文所述的六种元素之一：亮晶晶，暖洋洋，冷冰冰，郁萌萌，昼闪闪，夜静静。
属性：武将的数值属性，分为攻击力，守备力，智力和速度
技能：武将的技能，武将自带一个技能，同时存在两个技能空位，玩家可以消耗夜静静资源来让武将学习技能，每个技能有不同的效果。（TODO）

7. 设施
玩家可以消耗暖洋洋，冷冰冰，郁萌萌，昼闪闪四种资源，在玩家城池中建造设施。
每个设施都占用1个方格，以下设施默认就出现在玩家城池中：
【资源产出点】：如上文所述产出各色资源的设施。可以升级来提高产出效率。
【总督府】：玩家城池的中心建筑，有耐久值。可以升级来提高耐久值上限。
以下设施需要玩家进行建造：
【兵营】：为玩家城池添加消耗资源产出兵力的功能。士兵的详情见下文。可以进行升级，来解锁等级更高的兵种。可以复数建造。
【研究所】：研究科技，科技的详情见下文。可以进行升级来解锁更高级的科技。只能拥有一个。
【宿舍】：让玩家可以存放士兵，宿舍越多能存放的士兵则越多。可以升级来提升存放士兵的上限。可以复数建造。
【贮存所】：让玩家可以存放更多的资源，贮存所越多能存放的资源则越多。可以升级来提升存放资源的上限。可以复数建造。
【瞭望台】：提高城池防御力，可以消耗资源产出侦察兵。也可以揭晓来自其他玩家城池的侦察兵情报。升级可以进一步提高城池防御力，并提升侦察兵以及能侦测到的侦察兵的等级。只能拥有一个。
【工程所】：可以研究科技来提高城池防御力，并可以消耗资源产出锤子兵。只能拥有一个。

8. 士兵
玩家可以训练四种普通士兵和两种特殊士兵。
【普通士兵】：在兵营中进行建造。
【兵卒（Pawn）】：最基础的步兵，需要消耗昼闪闪资源制造。训练速度快，速度高，攻击力低，守备力高。对锤子兵有额外伤害。对城池防御与总督府防御伤害低。
【骑士（Knight）】：以速度见长的中阶步兵，需要消耗暖洋洋资源制造。训练速度中等，速度高，攻击力中，守备力低。对兵卒，城壁有额外伤害。对城池防御与总督府防御伤害低。
【城壁（Rook）】：以防御见长的中阶步兵，需要消耗冷冰冰资源制造。训练速度中等，速度低，攻击力中，守备力高。对兵卒，主教有额外伤害。对城池防御与总督府防御伤害低。
【主教（Bishop）】：以攻击见长的中阶步兵，需要消耗郁萌萌资源制造。训练速度中等，速度中，攻击力高，守备力中。对兵卒，骑士有额外伤害。对城池防御与总督府防御伤害低。
【特殊士兵】：锤子兵在工程所进行建造，侦察兵在瞭望台进行建造
【锤子兵（Golem）】：以攻城见长的特殊步兵，需要消耗暖洋洋，冷冰冰，郁萌萌，昼闪闪四种资源制造。训练速度慢，速度低，攻击力低，守备力低。对城池防御与总督府防御有额外伤害。
【侦察兵（Scout）】：以侦察见长的特殊步兵，需要消耗暖洋洋，冷冰冰，郁萌萌，昼闪闪四种资源制造。训练速度快，没有战斗力，派去其他玩家城池不会在界面上显示倒计时等信息，但只要玩家或NPC城池的侦察兵数量少于派出的侦察兵数量，便可返回玩家或NPC城池的信息。

能训练的士兵的最高等级与兵营·瞭望台·工程所的等级有关。升级这些建筑会自动提升已有的士兵的等级。
一个城池内能训练的士兵的数量与宿舍的等级与数量有关。

